import{r as s,e as C,u as I,j as n,P as y,h as M,ae as H,l as A,c as x}from"./index-BsjZ7yHK.js";function U(e){const t=s.useRef({value:e,previous:e});return s.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var b="Switch",[q]=A(b),[z,L]=q(b),P=s.forwardRef((e,t)=>{const{__scopeSwitch:r,name:a,checked:o,defaultChecked:m,required:u,disabled:c,value:d="on",onCheckedChange:v,form:i,...w}=e,[l,p]=s.useState(null),S=C(t,h=>p(h)),k=s.useRef(!1),g=l?i||!!l.closest("form"):!0,[f,B]=I({prop:o,defaultProp:m??!1,onChange:v,caller:b});return n.jsxs(z,{scope:r,checked:f,disabled:c,children:[n.jsx(y.button,{type:"button",role:"switch","aria-checked":f,"aria-required":u,"data-state":j(f),"data-disabled":c?"":void 0,disabled:c,value:d,...w,ref:S,onClick:M(e.onClick,h=>{B(T=>!T),g&&(k.current=h.isPropagationStopped(),k.current||h.stopPropagation())})}),g&&n.jsx(N,{control:l,bubbles:!k.current,name:a,value:d,checked:f,required:u,disabled:c,form:i,style:{transform:"translateX(-100%)"}})]})});P.displayName=b;var R="SwitchThumb",E=s.forwardRef((e,t)=>{const{__scopeSwitch:r,...a}=e,o=L(R,r);return n.jsx(y.span,{"data-state":j(o.checked),"data-disabled":o.disabled?"":void 0,...a,ref:t})});E.displayName=R;var O="SwitchBubbleInput",N=s.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:a=!0,...o},m)=>{const u=s.useRef(null),c=C(u,m),d=U(r),v=H(t);return s.useEffect(()=>{const i=u.current;if(!i)return;const w=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(w,"checked").set;if(d!==r&&p){const S=new Event("click",{bubbles:a});p.call(i,r),i.dispatchEvent(S)}},[d,r,a]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...o,tabIndex:-1,ref:c,style:{...o.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});N.displayName=O;function j(e){return e?"checked":"unchecked"}var _=P,D=E;const F=s.forwardRef(({className:e,...t},r)=>n.jsx(_,{className:x("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:n.jsx(D,{className:x("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));F.displayName=_.displayName;export{F as S,U as u};
