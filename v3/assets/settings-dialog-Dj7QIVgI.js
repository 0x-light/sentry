import{r as n,j as e,X as Ts,c as L,a as Is,b as Ps,u as ut,R as _s,d as Qe,e as re,f as ce,P as $,g as yt,V as ks,A as Es,h as D,i as Rs,k as jt,l as As,m as Ds,D as Ls,C as Ms,n as Os,o as Ve,p as Ge,q as Fs,s as Vs,t as Bs,v as mt,w as Hs,x as zs,y as Ws,z as Us,B as Ks,E as $s,F as Gs,G as Ys,H as Fe,I,J as qs,S as Ce,L as A,K as De,M as Xs,N as pt,O as Zs,Q as Js,T as xt,U as Qs,W as ht,Y as en,Z as ft,_ as gt,$ as tn,a0 as sn,a1 as nn,a2 as an,a3 as rn,a4 as on}from"./index-BsjZ7yHK.js";import{R as ln,P as cn,C as St,a as dn,T as wt,D as Nt,O as bt,h as un,u as mn,b as pn,F as xn}from"./index-Boo2h7X5.js";import{u as hn,c as fn,T as gn,a as vn,b as Te,d as Ie}from"./tabs-B427763T.js";import{T as yn}from"./textarea-kmSOQvLu.js";import{u as jn,S as $e}from"./switch-BFZsklr5.js";const Sn=ln,wn=cn,Ct=n.forwardRef(({className:s,...a},t)=>e.jsx(bt,{className:L("fixed inset-0 z-50 bg-black/80",s),...a,ref:t}));Ct.displayName=bt.displayName;const Nn=Is("fixed z-50 flex flex-col bg-background shadow-lg",{variants:{side:{top:"inset-x-0 top-0 border-b",bottom:"inset-x-0 bottom-0 border-t",left:"inset-y-0 left-0 h-full w-full border-r sm:w-3/4 sm:max-w-sm",right:"inset-y-0 right-0 h-full w-full border-l sm:w-3/4 sm:max-w-md"}},defaultVariants:{side:"right"}}),Tt=n.forwardRef(({side:s="right",className:a,children:t,...r},o)=>e.jsxs(wn,{children:[e.jsx(Ct,{}),e.jsxs(St,{ref:o,className:L(Nn({side:s}),a),...r,children:[e.jsxs(dn,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(Ts,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]}),t]})]}));Tt.displayName=St.displayName;const It=({className:s,...a})=>e.jsx("div",{className:L("flex flex-col space-y-2 text-left",s),...a});It.displayName="SheetHeader";const Pt=n.forwardRef(({className:s,...a},t)=>e.jsx(wt,{ref:t,className:L("text-lg font-normal text-foreground",s),...a}));Pt.displayName=wt.displayName;const _t=n.forwardRef(({className:s,...a},t)=>e.jsx(Nt,{ref:t,className:L("text-sm text-muted-foreground",s),...a}));_t.displayName=Nt.displayName;function vt(s,[a,t]){return Math.min(t,Math.max(a,s))}function bn(s){const a=Cn(s),t=n.forwardRef((r,o)=>{const{children:u,...d}=r,i=n.Children.toArray(u),c=i.find(In);if(c){const m=c.props.children,v=i.map(j=>j===c?n.Children.count(m)>1?n.Children.only(null):n.isValidElement(m)?m.props.children:null:j);return e.jsx(a,{...d,ref:o,children:n.isValidElement(m)?n.cloneElement(m,void 0,v):null})}return e.jsx(a,{...d,ref:o,children:u})});return t.displayName=`${s}.Slot`,t}function Cn(s){const a=n.forwardRef((t,r)=>{const{children:o,...u}=t;if(n.isValidElement(o)){const d=_n(o),i=Pn(u,o.props);return o.type!==n.Fragment&&(i.ref=r?Ps(r,d):d),n.cloneElement(o,i)}return n.Children.count(o)>1?n.Children.only(null):null});return a.displayName=`${s}.SlotClone`,a}var Tn=Symbol("radix.slottable");function In(s){return n.isValidElement(s)&&typeof s.type=="function"&&"__radixId"in s.type&&s.type.__radixId===Tn}function Pn(s,a){const t={...a};for(const r in a){const o=s[r],u=a[r];/^on[A-Z]/.test(r)?o&&u?t[r]=(...i)=>{const c=u(...i);return o(...i),c}:o&&(t[r]=o):r==="style"?t[r]={...o,...u}:r==="className"&&(t[r]=[o,u].filter(Boolean).join(" "))}return{...s,...t}}function _n(s){var r,o;let a=(r=Object.getOwnPropertyDescriptor(s.props,"ref"))==null?void 0:r.get,t=a&&"isReactWarning"in a&&a.isReactWarning;return t?s.ref:(a=(o=Object.getOwnPropertyDescriptor(s,"ref"))==null?void 0:o.get,t=a&&"isReactWarning"in a&&a.isReactWarning,t?s.props.ref:s.props.ref||s.ref)}var kn=[" ","Enter","ArrowUp","ArrowDown"],En=[" ","Enter"],ye="Select",[He,ze,Rn]=fn(ye),[ke]=As(ye,[Rn,yt]),We=yt(),[An,de]=ke(ye),[Dn,Ln]=ke(ye),kt=s=>{const{__scopeSelect:a,children:t,open:r,defaultOpen:o,onOpenChange:u,value:d,defaultValue:i,onValueChange:c,dir:m,name:v,autoComplete:j,disabled:P,required:_,form:T}=s,p=We(a),[g,N]=n.useState(null),[x,f]=n.useState(null),[z,W]=n.useState(!1),Se=hn(m),[R,Y]=ut({prop:r,defaultProp:o??!1,onChange:u,caller:ye}),[q,ee]=ut({prop:d,defaultProp:i,onChange:c,caller:ye}),G=n.useRef(null),B=g?T||!!g.closest("form"):!0,[M,X]=n.useState(new Set),Z=Array.from(M).map(O=>O.props.value).join(";");return e.jsx(_s,{...p,children:e.jsxs(An,{required:_,scope:a,trigger:g,onTriggerChange:N,valueNode:x,onValueNodeChange:f,valueNodeHasChildren:z,onValueNodeHasChildrenChange:W,contentId:Qe(),value:q,onValueChange:ee,open:R,onOpenChange:Y,dir:Se,triggerPointerDownPosRef:G,disabled:P,children:[e.jsx(He.Provider,{scope:a,children:e.jsx(Dn,{scope:s.__scopeSelect,onNativeOptionAdd:n.useCallback(O=>{X(F=>new Set(F).add(O))},[]),onNativeOptionRemove:n.useCallback(O=>{X(F=>{const U=new Set(F);return U.delete(O),U})},[]),children:t})}),B?e.jsxs(es,{"aria-hidden":!0,required:_,tabIndex:-1,name:v,autoComplete:j,value:q,onChange:O=>ee(O.target.value),disabled:P,form:T,children:[q===void 0?e.jsx("option",{value:""}):null,Array.from(M)]},Z):null]})})};kt.displayName=ye;var Et="SelectTrigger",Rt=n.forwardRef((s,a)=>{const{__scopeSelect:t,disabled:r=!1,...o}=s,u=We(t),d=de(Et,t),i=d.disabled||r,c=re(a,d.onTriggerChange),m=ze(t),v=n.useRef("touch"),[j,P,_]=ss(p=>{const g=m().filter(f=>!f.disabled),N=g.find(f=>f.value===d.value),x=ns(g,p,N);x!==void 0&&d.onValueChange(x.value)}),T=p=>{i||(d.onOpenChange(!0),_()),p&&(d.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return e.jsx(Es,{asChild:!0,...u,children:e.jsx($.button,{type:"button",role:"combobox","aria-controls":d.contentId,"aria-expanded":d.open,"aria-required":d.required,"aria-autocomplete":"none",dir:d.dir,"data-state":d.open?"open":"closed",disabled:i,"data-disabled":i?"":void 0,"data-placeholder":ts(d.value)?"":void 0,...o,ref:c,onClick:D(o.onClick,p=>{p.currentTarget.focus(),v.current!=="mouse"&&T(p)}),onPointerDown:D(o.onPointerDown,p=>{v.current=p.pointerType;const g=p.target;g.hasPointerCapture(p.pointerId)&&g.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(T(p),p.preventDefault())}),onKeyDown:D(o.onKeyDown,p=>{const g=j.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&P(p.key),!(g&&p.key===" ")&&kn.includes(p.key)&&(T(),p.preventDefault())})})})});Rt.displayName=Et;var At="SelectValue",Dt=n.forwardRef((s,a)=>{const{__scopeSelect:t,className:r,style:o,children:u,placeholder:d="",...i}=s,c=de(At,t),{onValueNodeHasChildrenChange:m}=c,v=u!==void 0,j=re(a,c.onValueNodeChange);return ce(()=>{m(v)},[m,v]),e.jsx($.span,{...i,ref:j,style:{pointerEvents:"none"},children:ts(c.value)?e.jsx(e.Fragment,{children:d}):u})});Dt.displayName=At;var Mn="SelectIcon",Lt=n.forwardRef((s,a)=>{const{__scopeSelect:t,children:r,...o}=s;return e.jsx($.span,{"aria-hidden":!0,...o,ref:a,children:r||"▼"})});Lt.displayName=Mn;var On="SelectPortal",Mt=s=>e.jsx(Rs,{asChild:!0,...s});Mt.displayName=On;var je="SelectContent",Ot=n.forwardRef((s,a)=>{const t=de(je,s.__scopeSelect),[r,o]=n.useState();if(ce(()=>{o(new DocumentFragment)},[]),!t.open){const u=r;return u?jt.createPortal(e.jsx(Ft,{scope:s.__scopeSelect,children:e.jsx(He.Slot,{scope:s.__scopeSelect,children:e.jsx("div",{children:s.children})})}),u):null}return e.jsx(Vt,{...s,ref:a})});Ot.displayName=je;var Q=10,[Ft,ue]=ke(je),Fn="SelectContentImpl",Vn=bn("SelectContent.RemoveScroll"),Vt=n.forwardRef((s,a)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:u,onPointerDownOutside:d,side:i,sideOffset:c,align:m,alignOffset:v,arrowPadding:j,collisionBoundary:P,collisionPadding:_,sticky:T,hideWhenDetached:p,avoidCollisions:g,...N}=s,x=de(je,t),[f,z]=n.useState(null),[W,Se]=n.useState(null),R=re(a,h=>z(h)),[Y,q]=n.useState(null),[ee,G]=n.useState(null),B=ze(t),[M,X]=n.useState(!1),Z=n.useRef(!1);n.useEffect(()=>{if(f)return un(f)},[f]),mn();const O=n.useCallback(h=>{const[C,...V]=B().map(w=>w.ref.current),[b]=V.slice(-1),S=document.activeElement;for(const w of h)if(w===S||(w==null||w.scrollIntoView({block:"nearest"}),w===C&&W&&(W.scrollTop=0),w===b&&W&&(W.scrollTop=W.scrollHeight),w==null||w.focus(),document.activeElement!==S))return},[B,W]),F=n.useCallback(()=>O([Y,f]),[O,Y,f]);n.useEffect(()=>{M&&F()},[M,F]);const{onOpenChange:U,triggerPointerDownPosRef:E}=x;n.useEffect(()=>{if(f){let h={x:0,y:0};const C=b=>{var S,w;h={x:Math.abs(Math.round(b.pageX)-(((S=E.current)==null?void 0:S.x)??0)),y:Math.abs(Math.round(b.pageY)-(((w=E.current)==null?void 0:w.y)??0))}},V=b=>{h.x<=10&&h.y<=10?b.preventDefault():f.contains(b.target)||U(!1),document.removeEventListener("pointermove",C),E.current=null};return E.current!==null&&(document.addEventListener("pointermove",C),document.addEventListener("pointerup",V,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",C),document.removeEventListener("pointerup",V,{capture:!0})}}},[f,U,E]),n.useEffect(()=>{const h=()=>U(!1);return window.addEventListener("blur",h),window.addEventListener("resize",h),()=>{window.removeEventListener("blur",h),window.removeEventListener("resize",h)}},[U]);const[Ee,oe]=ss(h=>{const C=B().filter(S=>!S.disabled),V=C.find(S=>S.ref.current===document.activeElement),b=ns(C,h,V);b&&setTimeout(()=>b.ref.current.focus())}),me=n.useCallback((h,C,V)=>{const b=!Z.current&&!V;(x.value!==void 0&&x.value===C||b)&&(q(h),b&&(Z.current=!0))},[x.value]),pe=n.useCallback(()=>f==null?void 0:f.focus(),[f]),te=n.useCallback((h,C,V)=>{const b=!Z.current&&!V;(x.value!==void 0&&x.value===C||b)&&G(h)},[x.value]),le=r==="popper"?Ye:Bt,ie=le===Ye?{side:i,sideOffset:c,align:m,alignOffset:v,arrowPadding:j,collisionBoundary:P,collisionPadding:_,sticky:T,hideWhenDetached:p,avoidCollisions:g}:{};return e.jsx(Ft,{scope:t,content:f,viewport:W,onViewportChange:Se,itemRefCallback:me,selectedItem:Y,onItemLeave:pe,itemTextRefCallback:te,focusSelectedItem:F,selectedItemText:ee,position:r,isPositioned:M,searchRef:Ee,children:e.jsx(pn,{as:Vn,allowPinchZoom:!0,children:e.jsx(xn,{asChild:!0,trapped:x.open,onMountAutoFocus:h=>{h.preventDefault()},onUnmountAutoFocus:D(o,h=>{var C;(C=x.trigger)==null||C.focus({preventScroll:!0}),h.preventDefault()}),children:e.jsx(Ls,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h=>h.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:e.jsx(le,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:h=>h.preventDefault(),...N,...ie,onPlaced:()=>X(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:D(N.onKeyDown,h=>{const C=h.ctrlKey||h.altKey||h.metaKey;if(h.key==="Tab"&&h.preventDefault(),!C&&h.key.length===1&&oe(h.key),["ArrowUp","ArrowDown","Home","End"].includes(h.key)){let b=B().filter(S=>!S.disabled).map(S=>S.ref.current);if(["ArrowUp","End"].includes(h.key)&&(b=b.slice().reverse()),["ArrowUp","ArrowDown"].includes(h.key)){const S=h.target,w=b.indexOf(S);b=b.slice(w+1)}setTimeout(()=>O(b)),h.preventDefault()}})})})})})})});Vt.displayName=Fn;var Bn="SelectItemAlignedPosition",Bt=n.forwardRef((s,a)=>{const{__scopeSelect:t,onPlaced:r,...o}=s,u=de(je,t),d=ue(je,t),[i,c]=n.useState(null),[m,v]=n.useState(null),j=re(a,R=>v(R)),P=ze(t),_=n.useRef(!1),T=n.useRef(!0),{viewport:p,selectedItem:g,selectedItemText:N,focusSelectedItem:x}=d,f=n.useCallback(()=>{if(u.trigger&&u.valueNode&&i&&m&&p&&g&&N){const R=u.trigger.getBoundingClientRect(),Y=m.getBoundingClientRect(),q=u.valueNode.getBoundingClientRect(),ee=N.getBoundingClientRect();if(u.dir!=="rtl"){const S=ee.left-Y.left,w=q.left-S,se=R.left-w,ne=R.width+se,we=Math.max(ne,Y.width),Ne=window.innerWidth-Q,be=vt(w,[Q,Math.max(Q,Ne-we)]);i.style.minWidth=ne+"px",i.style.left=be+"px"}else{const S=Y.right-ee.right,w=window.innerWidth-q.right-S,se=window.innerWidth-R.right-w,ne=R.width+se,we=Math.max(ne,Y.width),Ne=window.innerWidth-Q,be=vt(w,[Q,Math.max(Q,Ne-we)]);i.style.minWidth=ne+"px",i.style.right=be+"px"}const G=P(),B=window.innerHeight-Q*2,M=p.scrollHeight,X=window.getComputedStyle(m),Z=parseInt(X.borderTopWidth,10),O=parseInt(X.paddingTop,10),F=parseInt(X.borderBottomWidth,10),U=parseInt(X.paddingBottom,10),E=Z+O+M+U+F,Ee=Math.min(g.offsetHeight*5,E),oe=window.getComputedStyle(p),me=parseInt(oe.paddingTop,10),pe=parseInt(oe.paddingBottom,10),te=R.top+R.height/2-Q,le=B-te,ie=g.offsetHeight/2,h=g.offsetTop+ie,C=Z+O+h,V=E-C;if(C<=te){const S=G.length>0&&g===G[G.length-1].ref.current;i.style.bottom="0px";const w=m.clientHeight-p.offsetTop-p.offsetHeight,se=Math.max(le,ie+(S?pe:0)+w+F),ne=C+se;i.style.height=ne+"px"}else{const S=G.length>0&&g===G[0].ref.current;i.style.top="0px";const se=Math.max(te,Z+p.offsetTop+(S?me:0)+ie)+V;i.style.height=se+"px",p.scrollTop=C-te+p.offsetTop}i.style.margin=`${Q}px 0`,i.style.minHeight=Ee+"px",i.style.maxHeight=B+"px",r==null||r(),requestAnimationFrame(()=>_.current=!0)}},[P,u.trigger,u.valueNode,i,m,p,g,N,u.dir,r]);ce(()=>f(),[f]);const[z,W]=n.useState();ce(()=>{m&&W(window.getComputedStyle(m).zIndex)},[m]);const Se=n.useCallback(R=>{R&&T.current===!0&&(f(),x==null||x(),T.current=!1)},[f,x]);return e.jsx(zn,{scope:t,contentWrapper:i,shouldExpandOnScrollRef:_,onScrollButtonChange:Se,children:e.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:z},children:e.jsx($.div,{...o,ref:j,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});Bt.displayName=Bn;var Hn="SelectPopperPosition",Ye=n.forwardRef((s,a)=>{const{__scopeSelect:t,align:r="start",collisionPadding:o=Q,...u}=s,d=We(t);return e.jsx(Ms,{...d,...u,ref:a,align:r,collisionPadding:o,style:{boxSizing:"border-box",...u.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ye.displayName=Hn;var[zn,et]=ke(je,{}),qe="SelectViewport",Ht=n.forwardRef((s,a)=>{const{__scopeSelect:t,nonce:r,...o}=s,u=ue(qe,t),d=et(qe,t),i=re(a,u.onViewportChange),c=n.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),e.jsx(He.Slot,{scope:t,children:e.jsx($.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:i,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:D(o.onScroll,m=>{const v=m.currentTarget,{contentWrapper:j,shouldExpandOnScrollRef:P}=d;if(P!=null&&P.current&&j){const _=Math.abs(c.current-v.scrollTop);if(_>0){const T=window.innerHeight-Q*2,p=parseFloat(j.style.minHeight),g=parseFloat(j.style.height),N=Math.max(p,g);if(N<T){const x=N+_,f=Math.min(T,x),z=x-f;j.style.height=f+"px",j.style.bottom==="0px"&&(v.scrollTop=z>0?z:0,j.style.justifyContent="flex-end")}}}c.current=v.scrollTop})})})]})});Ht.displayName=qe;var zt="SelectGroup",[Wn,Un]=ke(zt),Kn=n.forwardRef((s,a)=>{const{__scopeSelect:t,...r}=s,o=Qe();return e.jsx(Wn,{scope:t,id:o,children:e.jsx($.div,{role:"group","aria-labelledby":o,...r,ref:a})})});Kn.displayName=zt;var Wt="SelectLabel",Ut=n.forwardRef((s,a)=>{const{__scopeSelect:t,...r}=s,o=Un(Wt,t);return e.jsx($.div,{id:o.id,...r,ref:a})});Ut.displayName=Wt;var Be="SelectItem",[$n,Kt]=ke(Be),$t=n.forwardRef((s,a)=>{const{__scopeSelect:t,value:r,disabled:o=!1,textValue:u,...d}=s,i=de(Be,t),c=ue(Be,t),m=i.value===r,[v,j]=n.useState(u??""),[P,_]=n.useState(!1),T=re(a,x=>{var f;return(f=c.itemRefCallback)==null?void 0:f.call(c,x,r,o)}),p=Qe(),g=n.useRef("touch"),N=()=>{o||(i.onValueChange(r),i.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx($n,{scope:t,value:r,disabled:o,textId:p,isSelected:m,onItemTextChange:n.useCallback(x=>{j(f=>f||((x==null?void 0:x.textContent)??"").trim())},[]),children:e.jsx(He.ItemSlot,{scope:t,value:r,disabled:o,textValue:v,children:e.jsx($.div,{role:"option","aria-labelledby":p,"data-highlighted":P?"":void 0,"aria-selected":m&&P,"data-state":m?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...d,ref:T,onFocus:D(d.onFocus,()=>_(!0)),onBlur:D(d.onBlur,()=>_(!1)),onClick:D(d.onClick,()=>{g.current!=="mouse"&&N()}),onPointerUp:D(d.onPointerUp,()=>{g.current==="mouse"&&N()}),onPointerDown:D(d.onPointerDown,x=>{g.current=x.pointerType}),onPointerMove:D(d.onPointerMove,x=>{var f;g.current=x.pointerType,o?(f=c.onItemLeave)==null||f.call(c):g.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:D(d.onPointerLeave,x=>{var f;x.currentTarget===document.activeElement&&((f=c.onItemLeave)==null||f.call(c))}),onKeyDown:D(d.onKeyDown,x=>{var z;((z=c.searchRef)==null?void 0:z.current)!==""&&x.key===" "||(En.includes(x.key)&&N(),x.key===" "&&x.preventDefault())})})})})});$t.displayName=Be;var Le="SelectItemText",Gt=n.forwardRef((s,a)=>{const{__scopeSelect:t,className:r,style:o,...u}=s,d=de(Le,t),i=ue(Le,t),c=Kt(Le,t),m=Ln(Le,t),[v,j]=n.useState(null),P=re(a,N=>j(N),c.onItemTextChange,N=>{var x;return(x=i.itemTextRefCallback)==null?void 0:x.call(i,N,c.value,c.disabled)}),_=v==null?void 0:v.textContent,T=n.useMemo(()=>e.jsx("option",{value:c.value,disabled:c.disabled,children:_},c.value),[c.disabled,c.value,_]),{onNativeOptionAdd:p,onNativeOptionRemove:g}=m;return ce(()=>(p(T),()=>g(T)),[p,g,T]),e.jsxs(e.Fragment,{children:[e.jsx($.span,{id:c.textId,...u,ref:P}),c.isSelected&&d.valueNode&&!d.valueNodeHasChildren?jt.createPortal(u.children,d.valueNode):null]})});Gt.displayName=Le;var Yt="SelectItemIndicator",qt=n.forwardRef((s,a)=>{const{__scopeSelect:t,...r}=s;return Kt(Yt,t).isSelected?e.jsx($.span,{"aria-hidden":!0,...r,ref:a}):null});qt.displayName=Yt;var Xe="SelectScrollUpButton",Xt=n.forwardRef((s,a)=>{const t=ue(Xe,s.__scopeSelect),r=et(Xe,s.__scopeSelect),[o,u]=n.useState(!1),d=re(a,r.onScrollButtonChange);return ce(()=>{if(t.viewport&&t.isPositioned){let i=function(){const m=c.scrollTop>0;u(m)};const c=t.viewport;return i(),c.addEventListener("scroll",i),()=>c.removeEventListener("scroll",i)}},[t.viewport,t.isPositioned]),o?e.jsx(Jt,{...s,ref:d,onAutoScroll:()=>{const{viewport:i,selectedItem:c}=t;i&&c&&(i.scrollTop=i.scrollTop-c.offsetHeight)}}):null});Xt.displayName=Xe;var Ze="SelectScrollDownButton",Zt=n.forwardRef((s,a)=>{const t=ue(Ze,s.__scopeSelect),r=et(Ze,s.__scopeSelect),[o,u]=n.useState(!1),d=re(a,r.onScrollButtonChange);return ce(()=>{if(t.viewport&&t.isPositioned){let i=function(){const m=c.scrollHeight-c.clientHeight,v=Math.ceil(c.scrollTop)<m;u(v)};const c=t.viewport;return i(),c.addEventListener("scroll",i),()=>c.removeEventListener("scroll",i)}},[t.viewport,t.isPositioned]),o?e.jsx(Jt,{...s,ref:d,onAutoScroll:()=>{const{viewport:i,selectedItem:c}=t;i&&c&&(i.scrollTop=i.scrollTop+c.offsetHeight)}}):null});Zt.displayName=Ze;var Jt=n.forwardRef((s,a)=>{const{__scopeSelect:t,onAutoScroll:r,...o}=s,u=ue("SelectScrollButton",t),d=n.useRef(null),i=ze(t),c=n.useCallback(()=>{d.current!==null&&(window.clearInterval(d.current),d.current=null)},[]);return n.useEffect(()=>()=>c(),[c]),ce(()=>{var v;const m=i().find(j=>j.ref.current===document.activeElement);(v=m==null?void 0:m.ref.current)==null||v.scrollIntoView({block:"nearest"})},[i]),e.jsx($.div,{"aria-hidden":!0,...o,ref:a,style:{flexShrink:0,...o.style},onPointerDown:D(o.onPointerDown,()=>{d.current===null&&(d.current=window.setInterval(r,50))}),onPointerMove:D(o.onPointerMove,()=>{var m;(m=u.onItemLeave)==null||m.call(u),d.current===null&&(d.current=window.setInterval(r,50))}),onPointerLeave:D(o.onPointerLeave,()=>{c()})})}),Gn="SelectSeparator",Qt=n.forwardRef((s,a)=>{const{__scopeSelect:t,...r}=s;return e.jsx($.div,{"aria-hidden":!0,...r,ref:a})});Qt.displayName=Gn;var Je="SelectArrow",Yn=n.forwardRef((s,a)=>{const{__scopeSelect:t,...r}=s,o=We(t),u=de(Je,t),d=ue(Je,t);return u.open&&d.position==="popper"?e.jsx(Os,{...o,...r,ref:a}):null});Yn.displayName=Je;var qn="SelectBubbleInput",es=n.forwardRef(({__scopeSelect:s,value:a,...t},r)=>{const o=n.useRef(null),u=re(r,o),d=jn(a);return n.useEffect(()=>{const i=o.current;if(!i)return;const c=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(c,"value").set;if(d!==a&&v){const j=new Event("change",{bubbles:!0});v.call(i,a),i.dispatchEvent(j)}},[d,a]),e.jsx($.select,{...t,style:{...ks,...t.style},ref:u,defaultValue:a})});es.displayName=qn;function ts(s){return s===""||s===void 0}function ss(s){const a=Ds(s),t=n.useRef(""),r=n.useRef(0),o=n.useCallback(d=>{const i=t.current+d;a(i),(function c(m){t.current=m,window.clearTimeout(r.current),m!==""&&(r.current=window.setTimeout(()=>c(""),1e3))})(i)},[a]),u=n.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return n.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,o,u]}function ns(s,a,t){const o=a.length>1&&Array.from(a).every(m=>m===a[0])?a[0]:a,u=t?s.indexOf(t):-1;let d=Xn(s,Math.max(u,0));o.length===1&&(d=d.filter(m=>m!==t));const c=d.find(m=>m.textValue.toLowerCase().startsWith(o.toLowerCase()));return c!==t?c:void 0}function Xn(s,a){return s.map((t,r)=>s[(a+r)%s.length])}var Zn=kt,as=Rt,Jn=Dt,Qn=Lt,ea=Mt,rs=Ot,ta=Ht,os=Ut,ls=$t,sa=Gt,na=qt,is=Xt,cs=Zt,ds=Qt;const Pe=Zn,_e=Jn,ge=n.forwardRef(({className:s,children:a,...t},r)=>e.jsxs(as,{ref:r,className:L("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent dark:bg-white/[0.05] px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...t,children:[a,e.jsx(Qn,{asChild:!0,children:e.jsx(Ve,{className:"h-4 w-4 opacity-50"})})]}));ge.displayName=as.displayName;const us=n.forwardRef(({className:s,...a},t)=>e.jsx(is,{ref:t,className:L("flex cursor-default items-center justify-center py-1",s),...a,children:e.jsx(Fs,{className:"h-4 w-4"})}));us.displayName=is.displayName;const ms=n.forwardRef(({className:s,...a},t)=>e.jsx(cs,{ref:t,className:L("flex cursor-default items-center justify-center py-1",s),...a,children:e.jsx(Ve,{className:"h-4 w-4"})}));ms.displayName=cs.displayName;const ve=n.forwardRef(({className:s,children:a,position:t="popper",...r},o)=>e.jsx(ea,{children:e.jsxs(rs,{ref:o,className:L("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:t,...r,children:[e.jsx(us,{}),e.jsx(ta,{className:L("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),e.jsx(ms,{})]})}));ve.displayName=rs.displayName;const aa=n.forwardRef(({className:s,...a},t)=>e.jsx(os,{ref:t,className:L("px-2 py-1.5 text-sm font-normal",s),...a}));aa.displayName=os.displayName;const k=n.forwardRef(({className:s,children:a,...t},r)=>e.jsxs(ls,{ref:r,className:L("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...t,children:[e.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(na,{children:e.jsx(Ge,{className:"h-4 w-4"})})}),e.jsx(sa,{children:a})]}));k.displayName=ls.displayName;const ra=n.forwardRef(({className:s,...a},t)=>e.jsx(ds,{ref:t,className:L("-mx-1 my-1 h-px bg-muted",s),...a}));ra.displayName=ds.displayName;function ua(){const{settingsOpen:s,settingsTab:a,setSettingsTab:t,closeSettings:r,analysts:o,activeAnalystId:u,setActiveAnalystId:d,saveAnalysts:i,createAnalyst:c,deleteAnalyst:m,duplicateAnalyst:v,financeProvider:j,font:P,fontSize:_,showTickerPrice:T,iconSet:p,liveEnabled:g,exportData:N,importBackup:x,clearCache:f,cacheSize:z,resetOnboarding:W,pricingOpen:Se,setPricingOpen:R,authDialogOpen:Y,setAuthDialogOpen:q,applySettings:ee,schedules:G,addSchedule:B,updateSchedule:M,deleteSchedule:X,presets:Z,customAccounts:O}=Vs(),{isAuthenticated:F,user:U,profile:E,signOut:Ee}=Bs(),[oe,me]=n.useState(""),[pe,te]=n.useState(""),[le,ie]=n.useState(()=>mt()),[h,C]=n.useState(null),[V,b]=n.useState(null),[S,w]=n.useState(j),[se,ne]=n.useState(P),[we,Ne]=n.useState(_),[be,tt]=n.useState(g),[st,nt]=n.useState(T),[at,rt]=n.useState(p);n.useEffect(()=>{s&&(me(Hs()),te(zs()),ie(mt()),w(Ws()),ne(Us()),Ne(Ks()),tt($s()),nt(Gs()),rt(Ys()))},[s]);const ps=()=>{oe.trim()&&localStorage.setItem("signal_twitter_key",oe.trim()),pe.trim()&&localStorage.setItem("signal_anthropic_key",pe.trim()),localStorage.setItem("signal_model",le),localStorage.setItem("signal_finance_provider",S),sn(se),nn(we),an(be),rn(st),on(at),r(),ee()},xs=()=>{confirm("Remove all API keys? You will need to re-enter them.")&&(localStorage.removeItem("signal_twitter_key"),localStorage.removeItem("signal_anthropic_key"),me(""),te(""))},[hs,ot]=n.useState("idle"),[lt,Ue]=n.useState("idle"),fs=async()=>{const l=await N();await navigator.clipboard.writeText(l),ot("copied"),setTimeout(()=>ot("idle"),1500)},gs=async()=>{try{const l=await navigator.clipboard.readText();x(l.trim()),Ue("success"),setTimeout(()=>{r(),ee()},500)}catch{Ue("error"),setTimeout(()=>Ue("idle"),2e3)}},it=(l,K)=>{const xe=o.map(ae=>ae.id===l?{...ae,prompt:K}:ae);i(xe)},vs=(l,K)=>{const xe=o.map(ae=>ae.id===l?{...ae,name:K}:ae);i(xe)},ys=async()=>{await Ee(),r()},Re=F&&((E==null?void 0:E.credits_balance)||0)>0,js=Re?`${((E==null?void 0:E.credits_balance)||0).toLocaleString()} credits`:"Free (BYOK)",Ss=Re?"text-signal-green bg-signal-green-bg":"text-muted-foreground bg-muted";return e.jsx(Sn,{open:s,onOpenChange:l=>{l||r()},children:e.jsxs(Tt,{side:"right",className:"settings-dialog sm:max-w-[29rem] w-full",children:[e.jsx("div",{className:"settings-header px-6 pt-6 pb-4 shrink-0",children:e.jsxs(It,{children:[e.jsx(Pt,{children:"Settings"}),e.jsx(_t,{children:F?U==null?void 0:U.email:"Configure your API keys, analysts, and preferences."})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto px-6",children:e.jsxs(gn,{value:a,onValueChange:t,className:"h-full",children:[e.jsx("div",{className:"sticky top-0 bg-background pb-4 -mx-6 px-6 z-10 overflow-x-auto scrollbar-hide",children:e.jsxs(vn,{className:"inline-flex w-auto min-w-full",children:[e.jsx(Te,{value:"account",children:"Account"}),e.jsx(Te,{value:"api",children:"API"}),e.jsx(Te,{value:"schedule",children:"Schedule"}),e.jsx(Te,{value:"analyst",children:"Analyst"}),e.jsx(Te,{value:"display",children:"Display"}),e.jsx(Te,{value:"data",children:"Data"})]})}),e.jsx(Ie,{value:"account",className:"settings-account space-y-4 pb-4",children:F?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-4 rounded-lg border space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Status"}),e.jsx(Fe,{variant:"outline",className:Ss,children:js})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"API keys"}),e.jsx("span",{className:"text-sm font-medium",children:Re?"Managed (included)":"Bring your own"})]}),(E==null?void 0:E.subscription_status)==="active"&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Auto-refill"}),e.jsx(Fe,{variant:"outline",className:"text-signal-green bg-signal-green-bg",children:"Active"})]})]}),e.jsxs(I,{variant:"outline",className:"w-full justify-start",onClick:()=>{r(),R(!0)},children:[e.jsx("span",{className:"flex-1 text-left",children:Re?"Buy more credits":"Buy credits"}),e.jsx(qs,{className:"h-3.5 w-3.5 text-muted-foreground"})]}),e.jsx(Ce,{}),e.jsx(I,{variant:"ghost",className:"w-full text-destructive hover:text-destructive",onClick:ys,children:"Sign out"})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-sm font-medium",children:"Sign in to unlock more"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Sync your data across devices, get managed API keys, and access premium features."})]}),e.jsx(I,{className:"w-full",onClick:()=>{r(),q(!0)},children:"Sign in"}),e.jsx(I,{variant:"outline",className:"w-full",onClick:()=>{r(),R(!0)},children:"Buy credits"})]})}),e.jsxs(Ie,{value:"api",className:"settings-api space-y-4 pb-4",children:[Re&&e.jsxs("div",{className:"p-3 rounded-lg bg-accent/50 border space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-signal-green"}),e.jsx("span",{className:"text-sm font-medium",children:"Managed API keys active"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Scans use our platform keys by default. Add your own keys below to use them instead — your credits won't be consumed."})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"API keys are stored securely on your device — they're never shared."}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(A,{children:"X/Twitter API key"}),e.jsx(De,{type:"password",value:oe,onChange:l=>me(l.target.value),placeholder:"Your twitterapi.io key"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Get one at"," ",e.jsx("a",{href:"https://twitterapi.io",target:"_blank",className:"underline",children:"twitterapi.io"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(A,{children:"Anthropic API key"}),e.jsx(De,{type:"password",value:pe,onChange:l=>te(l.target.value),placeholder:"sk-ant-..."}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Get one at"," ",e.jsx("a",{href:"https://console.anthropic.com/settings/keys",target:"_blank",className:"underline",children:"console.anthropic.com"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(A,{children:"Model"}),e.jsxs(Pe,{value:le,onValueChange:ie,children:[e.jsx(ge,{children:e.jsx(_e,{})}),e.jsxs(ve,{children:[e.jsx(k,{value:"claude-sonnet-4-20250514",children:"Claude Sonnet 4"}),e.jsx(k,{value:"claude-3-5-sonnet-20241022",children:"Claude Sonnet 3.5 v2"}),e.jsx(k,{value:"claude-3-5-haiku-20241022",children:"Claude Haiku 3.5"}),e.jsx(k,{value:"claude-opus-4-20250514",children:"Claude Opus 4"})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:Xs(le)})]})]}),e.jsx(Ie,{value:"schedule",className:"settings-schedule space-y-3 pb-4",children:F?e.jsxs(e.Fragment,{children:[G.length===0?e.jsxs("div",{className:"p-4 rounded-lg border border-dashed text-center space-y-3",children:[e.jsx(pt,{className:"h-8 w-8 mx-auto text-muted-foreground/50"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Schedule scans and results will be ready when you open the app."}),e.jsxs("div",{className:"flex flex-wrap gap-1.5 justify-center",children:[e.jsx(I,{variant:"outline",size:"sm",onClick:()=>B({time:"07:00",label:"Morning",range_days:1,accounts:[]}),children:"+ 7 am"}),e.jsx(I,{variant:"outline",size:"sm",onClick:()=>B({time:"12:00",label:"Midday",range_days:1,accounts:[]}),children:"+ 12 pm"}),e.jsx(I,{variant:"outline",size:"sm",onClick:()=>B({time:"18:00",label:"Evening",range_days:1,accounts:[]}),children:"+ 6 pm"})]})]}):e.jsxs(e.Fragment,{children:[G.map(l=>{var dt;const K=V===l.id,xe=l.last_run_at?new Date(l.last_run_at):null,ae=xe?xe.toLocaleDateString()+" "+xe.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"}):null,ws=["S","M","T","W","T","F","S"],Ns=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],bs=l.days.length===0?"Every day":l.days.length===5&&!l.days.includes(0)&&!l.days.includes(6)?"Weekdays":l.days.map(y=>Ns[y]).join(", "),Ke=new Set(l.accounts||[]),Me=Z.filter(y=>!y.hidden&&y.accounts.length>0),ct=Me.filter(y=>y.accounts.every(J=>Ke.has(J))),Ae=((dt=l.accounts)==null?void 0:dt.length)||0,Cs=ct.length?ct.map(y=>y.name).join(", "):Ae>0?`${Ae} accounts`:"No accounts";return e.jsxs("div",{className:"schedule-item border rounded-lg",children:[e.jsxs("div",{className:"schedule-header flex items-center gap-2.5 p-3 cursor-pointer",onClick:()=>b(K?null:l.id),children:[e.jsx($e,{checked:l.enabled,onCheckedChange:y=>{M(l.id,{enabled:y})},onClick:y=>y.stopPropagation()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:L("text-sm font-medium truncate",!l.enabled&&"text-muted-foreground"),children:l.label}),e.jsx("span",{className:L("text-sm tabular-nums shrink-0",l.enabled?"text-muted-foreground":"text-muted-foreground/50"),children:Zs(l.time)}),l.last_run_status==="running"&&e.jsx(Js,{className:"h-3 w-3 animate-spin text-signal-blue shrink-0"})]}),e.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5 min-w-0",children:[e.jsx("span",{className:"text-xs text-muted-foreground/60 truncate shrink-0",children:bs}),e.jsx("span",{className:"text-xs text-muted-foreground/40",children:"·"}),e.jsx("span",{className:"text-xs text-muted-foreground/60 truncate",children:Cs}),ae&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-xs text-muted-foreground/40",children:"·"}),e.jsxs("span",{className:"text-xs text-muted-foreground/60",children:[ae,l.last_run_status==="error"&&e.jsx("span",{className:"text-destructive ml-0.5",title:l.last_run_message||"",children:"✕"}),l.last_run_status==="success"&&e.jsx("span",{className:"text-signal-green ml-0.5",children:"✓"})]})]})]})]}),K?e.jsx(Ve,{className:"h-3.5 w-3.5 text-muted-foreground shrink-0"}):e.jsx(xt,{className:"h-3.5 w-3.5 text-muted-foreground shrink-0"})]}),K&&e.jsxs("div",{className:"px-3 pb-3 space-y-3",children:[e.jsx(Ce,{}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("div",{className:"space-y-1 flex-1 min-w-[120px]",children:[e.jsx(A,{className:"text-xs text-muted-foreground",children:"Time"}),e.jsx(De,{type:"time",value:l.time,onChange:y=>M(l.id,{time:y.target.value}),className:"h-8 text-sm min-w-0 [&::-webkit-datetime-edit]:text-sm"})]}),e.jsxs("div",{className:"space-y-1 flex-1 min-w-[120px]",children:[e.jsx(A,{className:"text-xs text-muted-foreground",children:"Range"}),e.jsxs(Pe,{value:String(l.range_days),onValueChange:y=>M(l.id,{range_days:Number(y)}),children:[e.jsx(ge,{className:"h-8 text-sm",children:e.jsx(_e,{})}),e.jsx(ve,{children:Qs.map(y=>e.jsx(k,{value:String(y.days),children:y.label},y.days))})]})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(A,{className:"text-xs text-muted-foreground",children:"Days"}),e.jsx("div",{className:"flex gap-0.5",children:ws.map((y,J)=>{const he=l.days.length===0||l.days.includes(J),Oe=l.days.length===0;return e.jsx("button",{className:L("flex-1 py-1.5 text-xs rounded-md transition-all font-medium",he?Oe?"bg-primary/10 text-primary":"bg-primary text-primary-foreground":"bg-muted text-muted-foreground/40 hover:text-muted-foreground"),onClick:()=>{let H;l.days.length===0?H=[0,1,2,3,4,5,6].filter(fe=>fe!==J):l.days.includes(J)?(H=l.days.filter(fe=>fe!==J),H.length===0&&(H=[])):(H=[...l.days,J].sort(),H.length===7&&(H=[])),M(l.id,{days:H})},children:y},J)})})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(A,{className:"text-xs text-muted-foreground",children:"Lists"}),Me.length===0?e.jsx("p",{className:"text-xs text-muted-foreground/60",children:"No lists yet — create one from the main screen."}):e.jsx("div",{className:"flex flex-wrap gap-1",children:Me.map(y=>{const J=y.accounts.every(he=>Ke.has(he));return e.jsxs("button",{className:L("px-2.5 py-1 text-xs rounded-md transition-all font-medium",J?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground/60 hover:text-muted-foreground"),onClick:()=>{let he;if(J){const Oe=new Set;Me.forEach(H=>{H.name!==y.name&&H.accounts.every(fe=>Ke.has(fe))&&H.accounts.forEach(fe=>Oe.add(fe))}),he=l.accounts.filter(H=>Oe.has(H))}else he=[...new Set([...l.accounts,...y.accounts])];M(l.id,{accounts:he})},children:[y.name,e.jsx("span",{className:"ml-1 opacity-50",children:y.accounts.length})]},y.name)})}),Ae>0&&e.jsxs("p",{className:"text-xs text-muted-foreground/50",children:[Ae," account",Ae!==1?"s":""," total"]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(A,{className:"text-xs text-muted-foreground",children:"Label"}),e.jsx(De,{value:l.label,onChange:y=>M(l.id,{label:y.target.value}),placeholder:"Schedule name",className:"h-8 text-sm"})]}),e.jsxs(I,{variant:"ghost",size:"sm",className:"text-destructive hover:text-destructive w-full",onClick:()=>X(l.id),children:[e.jsx(ht,{className:"h-3 w-3 mr-1.5"}),"Delete"]})]})]},l.id)}),e.jsxs(I,{variant:"outline",size:"sm",className:"w-full",onClick:()=>B({time:"09:00",label:"New scan",range_days:1,accounts:[]}),children:[e.jsx(en,{className:"h-3 w-3 mr-1.5"}),"Add schedule"]})]}),e.jsx("p",{className:"text-xs text-muted-foreground/60 text-center",children:"Runs in the background — no need to keep the app open."})]}):e.jsxs("div",{className:"p-4 rounded-lg border border-dashed text-center space-y-3",children:[e.jsx(pt,{className:"h-8 w-8 mx-auto text-muted-foreground/50"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Sign in to set up scheduled scans"}),e.jsx(I,{size:"sm",onClick:()=>{r(),q(!0)},children:"Sign in"})]})}),e.jsxs(Ie,{value:"analyst",className:"settings-analyst space-y-4 pb-4",children:[o.map(l=>e.jsxs("div",{className:"analyst-item border rounded-lg",children:[e.jsxs("div",{className:"analyst-header flex items-center gap-2 p-3 cursor-pointer",onClick:()=>C(h===l.id?null:l.id),children:[h===l.id?e.jsx(Ve,{className:"h-4 w-4"}):e.jsx(xt,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-normal flex-1",children:l.name}),u===l.id?e.jsx(Fe,{variant:"default",className:"text-sm",children:"Active"}):e.jsx(I,{variant:"ghost",size:"sm",className:"h-7 text-sm",onClick:K=>{K.stopPropagation(),d(l.id)},children:"Use"})]}),h===l.id&&e.jsxs("div",{className:"px-3 pb-3 space-y-3",children:[e.jsx(Ce,{}),!l.isDefault&&e.jsx(De,{value:l.name,onChange:K=>vs(l.id,K.target.value),placeholder:"Analyst name",className:"h-9"}),e.jsx(yn,{value:l.prompt,onChange:K=>it(l.id,K.target.value),className:"min-h-[200px] text-sm"}),e.jsxs("div",{className:"flex gap-2",children:[l.isDefault&&e.jsx(I,{variant:"outline",size:"sm",onClick:()=>it(l.id,gt),children:"Reset"}),e.jsxs(I,{variant:"outline",size:"sm",onClick:()=>v(l.id),children:[e.jsx(ft,{className:"h-3 w-3 mr-1"}),"Duplicate"]}),!l.isDefault&&e.jsxs(I,{variant:"destructive",size:"sm",onClick:()=>{confirm(`Delete analyst "${l.name}"?`)&&m(l.id)},children:[e.jsx(ht,{className:"h-3 w-3 mr-1"}),"Delete"]})]})]})]},l.id)),e.jsx(I,{variant:"outline",className:"w-full",onClick:()=>c("New Analyst",gt),children:"+ New Analyst"})]}),e.jsxs(Ie,{value:"display",className:"settings-display space-y-4 pb-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(A,{children:"Charts"}),e.jsxs(Pe,{value:S,onValueChange:w,children:[e.jsx(ge,{children:e.jsx(_e,{})}),e.jsxs(ve,{children:[e.jsx(k,{value:"tradingview",children:"TradingView"}),e.jsx(k,{value:"yahoo",children:"Yahoo Finance"}),e.jsx(k,{value:"google",children:"Google Finance"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(A,{children:"Font"}),e.jsxs(Pe,{value:se,onValueChange:ne,children:[e.jsx(ge,{children:e.jsx(_e,{})}),e.jsxs(ve,{children:[e.jsx(k,{value:"system",children:"System"}),e.jsx(k,{value:"geist",children:"Geist"}),e.jsx(k,{value:"mono",children:"Monospace"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(A,{children:"Font size"}),e.jsxs(Pe,{value:we,onValueChange:Ne,children:[e.jsx(ge,{children:e.jsx(_e,{})}),e.jsxs(ve,{children:[e.jsx(k,{value:"xsmall",children:"Extra Small"}),e.jsx(k,{value:"small",children:"Small"}),e.jsx(k,{value:"medium",children:"Medium"}),e.jsx(k,{value:"large",children:"Large"}),e.jsx(k,{value:"xlarge",children:"Extra Large"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(A,{children:"Icons"}),e.jsxs(Pe,{value:at,onValueChange:rt,children:[e.jsx(ge,{children:e.jsx(_e,{})}),e.jsxs(ve,{children:[e.jsx(k,{value:"sf",children:"SF Symbols"}),e.jsx(k,{value:"geist",children:"Geist"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(A,{children:"Ticker price"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($e,{checked:st,onCheckedChange:nt}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Show price next to ticker symbols"})]})]})]}),e.jsxs(Ie,{value:"data",className:"settings-data space-y-4 pb-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(A,{children:"Live feed"}),e.jsx(Fe,{variant:"outline",className:"text-xs",children:"beta"})]}),e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Passively monitor accounts for new posts. Uses ~3× more API credits."}),e.jsx($e,{checked:be,onCheckedChange:tt,className:"shrink-0"})]})]}),e.jsx(Ce,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(A,{children:"Backup"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Export copies your settings to clipboard. Import reads from clipboard."}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(I,{variant:"outline",size:"sm",onClick:fs,children:hs==="copied"?e.jsxs(e.Fragment,{children:[e.jsx(Ge,{className:"h-3 w-3 mr-1"}),"Copied"]}):e.jsxs(e.Fragment,{children:[e.jsx(ft,{className:"h-3 w-3 mr-1"}),"Export"]})}),e.jsx(I,{variant:"outline",size:"sm",onClick:gs,children:lt==="success"?e.jsxs(e.Fragment,{children:[e.jsx(Ge,{className:"h-3 w-3 mr-1 text-signal-green"}),"Imported"]}):lt==="error"?e.jsx(e.Fragment,{children:"Clipboard error"}):e.jsxs(e.Fragment,{children:[e.jsx(tn,{className:"h-3 w-3 mr-1"}),"Import"]})})]})]}),e.jsx(Ce,{}),e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(A,{children:"Cache"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[z," entries"]})]}),e.jsx(I,{variant:"outline",size:"sm",onClick:()=>{confirm("Clear all cached analysis results?")&&f()},children:"Clear cache"})]}),e.jsx(Ce,{}),e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(A,{children:"Onboarding"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Show the welcome wizard again."})]}),e.jsx(I,{variant:"outline",size:"sm",className:"shrink-0",onClick:()=>{W(),r()},children:"Restart"})]})]})]})}),a!=="account"&&a!=="schedule"&&e.jsx("div",{className:"settings-footer px-6 py-4 shrink-0 border-t",children:e.jsxs("div",{className:"flex flex-wrap gap-2 justify-end",children:[a==="api"&&e.jsx(I,{variant:"destructive",size:"sm",onClick:xs,className:"mr-auto",children:"Clear keys"}),e.jsx(I,{variant:"outline",size:"sm",onClick:r,children:"Cancel"}),e.jsx(I,{size:"sm",onClick:ps,children:"Save"})]})})]})})}export{ua as SettingsDialog};
